{"version":3,"sources":["components/users/User.js","components/homepage/homepage.js","components/login/login.js","components/register/register.js","App.js","index.js"],"names":["User","updateUser","localStorage","setItem","Date","hr","getItem","getDay","history","useHistory","useState","accountAge","createdAt","errorMessage","setErrorMessage","className","style","color","name","email","Math","abs","id","onClick","axios","post","then","res","console","log","data","user","push","catch","err","get","JSON","stringify","Homepage","lastseen","flag","setFlag","Login","passwordShown","setPasswordShown","password","setUser","handleChange","e","target","value","onChange","placeholder","type","src","Register","React","reEnterPassword","App","setLoginUser","useEffect","parse","exact","path","_id","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.50a54da9.chunk.js","sourcesContent":["import './User.css'\r\nimport axios from \"axios\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useState } from 'react';\r\nconst User =({updateUser}) =>{\r\n     localStorage.setItem(\"lastSeen\",new Date());\r\n    var hr = new Date(localStorage?.getItem('lastSeen')).getDay()\r\n    const history = useHistory()\r\n    const [data, setData] = useState();  \r\n    const lastDate = new Date(updateUser.createdAt);\r\n    const accountAge = lastDate.getDay();\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const logOut = () => {\r\n        axios.get(\"http://localhost:4000/api/v2/people/logout\")\r\n        .then(res => {\r\n            localStorage.setItem(\"userData\",JSON.stringify({}));\r\n            history.push(\"/login\")\r\n        })\r\n    } \r\n    const reSetPassword = () => {\r\n        axios.post(\"http://localhost:4000/api/v2/people/password/forgot\", updateUser.email)\r\n        .then(res => {\r\n            console.log(\"response\",res.data.user)\r\n            history.push(\"/\")\r\n        })\r\n        .catch((err)=>{\r\n            setErrorMessage('something went wrong');\r\n        })\r\n    }\r\n        return(            \r\n            <div className='userDiv'>\r\n            <h1 style={{color:\"black\"}}>{updateUser.name}</h1>\r\n            <h3  style={{color:\"gray\"}}>{updateUser.email}</h3>\r\n            <h3>Account Age : {Math.abs(accountAge-(new Date().getDay()))} Day</h3>\r\n            {/* <h3>{updateUser._id}</h3> */}\r\n            <h3>last update : { hr} hr ago</h3>\r\n            <button id=\"btnn\" onClick={reSetPassword}>Reset Password</button>\r\n            {errorMessage && (<p className=\"error\"> {errorMessage} </p>)}\r\n            <button className=\"logout\" onClick={logOut} >Logout</button>\r\n            </div>\r\n\r\n        )\r\n    }\r\n    export default User;","import React from \"react\"\r\nimport \"./homepage.css\"\r\nimport { useState } from 'react'\r\nimport User from \"../users/User\"\r\nconst Homepage = ({updateUser},{lastseen}) => {\r\n    const[flag,setFlag]=useState(true)\r\n    function detail(){\r\n      <User/>\r\n    setFlag(!flag)\r\n    }\r\n    return (\r\n<div className='main3'>\r\n<div className='second3'>\r\n<h1 id='head'>User Home Page</h1>\r\n{flag ? <button id='btn' onClick={detail}>DN</button>:<User updateUser={updateUser}/>}\r\n</div>\r\n</div>\r\n    )\r\n}\r\n\r\nexport default Homepage","import React, {useState} from \"react\"\r\nimport \"./login.css\"\r\nimport axios from \"axios\"\r\nimport { useHistory } from \"react-router-dom\"\r\nconst Login = ({ updateUser}) => {\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [passwordShown, setPasswordShown] = useState(false);\r\n    const togglePasswordVisiblity = () => {\r\n      setPasswordShown(passwordShown ? false : true);\r\n    };\r\n    const history = useHistory()\r\n\r\n    const [ user, setUser] = useState({\r\n        email:\"\",\r\n        password:\"\"\r\n    })\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target\r\n        setUser({\r\n            ...user,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const login = () => {\r\n        if( user.email && user.password){\r\n        axios.post(\"http://localhost:4000/api/v2/people/authenticate\", user)\r\n        .then(res => {\r\n            updateUser(res.data.user)\r\n            console.log(\"response\",res.data.user)\r\n            history.push(\"/\")\r\n        })\r\n        .catch((err)=>{\r\n            setErrorMessage(\"invalid email or password\");\r\n        })\r\n    }\r\n    // else{\r\n    //     alert('Please enter email and password')\r\n    // }\r\n    }\r\n\r\n    return (\r\n    <>\r\n        <div className=\"heading\">\r\n        <h1>Welcome!</h1>\r\n        <h1>Please login to continue.</h1>\r\n         </div>\r\n    <div className=\"main\">   \r\n    <form className='second'>\r\n        <div className=\"inputSet\">\r\n        <input className='email'name=\"email\" value={user.email} onChange={handleChange} placeholder=\"Email\"/>\r\n        <input className='pass' type={passwordShown ? \"text\" : \"password\"} name=\"password\" value={user.password} onChange={handleChange}  placeholder=\"Password\"/>\r\n        <img src=\"./images/icons8-invisible-24.png\" onClick={togglePasswordVisiblity} className=\"img\"/>  </div>      \r\n        <div className='log'>\r\n        <input className='login' onClick={login} type='button' value=\"Login\"/>\r\n        <input className='signup' onClick={() => history.push(\"/register\")} type='button' value='Sign Up'/>\r\n        </div>\r\n        {errorMessage && (<p className=\"error\"> {errorMessage} </p>)}\r\n    </form>\r\n    \r\n    </div>\r\n    </>\r\n\r\n    )\r\n}\r\n\r\nexport default Login","import React, { useState } from \"react\"\r\nimport \"./register.css\"\r\nimport axios from \"axios\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst Register = () => {\r\n\r\n    const history = useHistory()\r\n    const [errorMessage, setErrorMessage] = React.useState(\"\");\r\n    const [ user, setUser] = useState({\r\n        name: \"\",\r\n        email:\"\",\r\n        password:\"\",\r\n        reEnterPassword: \"\"\r\n    })\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target\r\n        setUser({\r\n            ...user,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const register = () => {\r\n        const { name, email, password, reEnterPassword } = user\r\n        if( name && email && password && (password === reEnterPassword)){\r\n            axios.post(\"http://localhost:4000/api/v2/people/create\", user)\r\n            .then( res => {\r\n                console.log('this is respose from backed',res)\r\n                history.push(\"/login\")\r\n            })\r\n            .catch((err)=>{\r\n                setErrorMessage(\"Please enter correct details\");\r\n            })\r\n        } \r\n        // else {\r\n        //     alert(\"invlid input\")\r\n        // }\r\n        \r\n    }\r\n\r\n    return (\r\n    <>\r\n<div className='main1'>\r\n    <h1>Please tell us a little about  about you!</h1>\r\n    <form className='second1'>\r\n        <input className='text1' type='text' name=\"name\" value={user.name} placeholder=\"Display Name\" onChange={ handleChange } />\r\n        <input className='email1' type='email'name=\"email\" value={user.email} placeholder=\"Email\" onChange={ handleChange }/>\r\n        <input className='pass1' type='password' name=\"password\" value={user.password} placeholder=\"Password\" onChange={ handleChange } />\r\n        <input className='pass1' type='password' name=\"reEnterPassword\" value={user.reEnterPassword} placeholder=\"Password again\" onChange={ handleChange } />\r\n        <div className='log1'>\r\n        <input className='signup1' onClick={register}  type='button' value='Sign Up'/>\r\n        <input className='login1' onClick={() => history.push(\"/login\")} type='button' value=\"Login\"/>\r\n        </div>\r\n    {errorMessage && (<p className=\"error\"> {errorMessage} </p>)}\r\n    </form>\r\n</div>   \r\n        \r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Register","import './App.css'\r\nimport Homepage from \"./components/homepage/homepage\"\r\nimport Login from \"./components/login/login\"\r\nimport Register from \"./components/register/register\"\r\nimport { BrowserRouter as Router, Switch, Route,Link } from \"react-router-dom\";\r\nimport { useState,useEffect } from 'react';\r\n\r\nfunction App() {\r\n\r\n  const [ user, setLoginUser] = useState({})\r\n  useEffect(() => {\r\n    setLoginUser(JSON.parse(localStorage?.getItem('userData')))\r\n  }, [])\r\n  const updateUser =(user)=>{\r\n    localStorage.setItem(\"userData\",JSON.stringify(user));\r\n    setLoginUser(user)\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            {\r\n              user && user._id ? <Homepage updateUser={user} /> : <Login updateUser={updateUser}/>\r\n            }\r\n          </Route>\r\n          <Route path=\"/login\">\r\n            <Login updateUser={updateUser}/>\r\n          </Route>\r\n          <Route path=\"/register\">\r\n            <Register />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}